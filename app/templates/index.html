{% extends "appbuilder/base.html" %}
{% block content %}
<div class="container">
  <h1>Fire & Bones Collectibles</h1>
  <h2>Total units in stock: {{ stock_total }}</h2>
  <table class="table table-bordered table-condensed table-hover" style="width: auto">
    <tr><th>Lot</th><th>Capital</th><th>Sold For</th><th>Fees</th><th>Fees %</th><th>Net Sold</th><th>Profit</th><th>ROI</th></tr>
{% for lot in lots %}
    <tr>
      <td>{{ lot.name }}</td>
      <td>{{ "${:,.2f}".format(lot.price|float) }}</td>
      <td>{{ "${:,.2f}".format(lot_totals[lot.id]['gross']|float) }}</td>
      <td>{{ "${:,.2f}".format(lot_totals[lot.id]['fees']|float) }}</td>
      <td>{{ "{:,.2f}%".format(lot_totals[lot.id]['feepc']|float) }}</td>
      <td>{{ "${:,.2f}".format(lot_totals[lot.id]['net']|float) }}</td>
      <td>{{ "${:,.2f}".format(lot_totals[lot.id]['profit']|float) }}</td>
      <td>{{ "{:,.2f}%".format(lot_totals[lot.id]['roi']|float) }}</td>
    </tr>
{% endfor %}
    <tr>
      <th>Total</th>
      <th>{{ "${:,.2f}".format(totals['capital']|float) }}</th>
      <th>{{ "${:,.2f}".format(totals['gross']|float) }}</th>
      <th>{{ "${:,.2f}".format(totals['fees']|float) }}</th>
      <th>{{ "{:,.2f}%".format(totals['feepc']|float) }}</th>
      <th>{{ "${:,.2f}".format(totals['net']|float) }}</th>
      <th>{{ "${:,.2f}".format(totals['profit']|float) }}</th>
      <th>{{ "{:,.2f}%".format(totals['roi']|float) }}</th>
    </tr>
  </table>
</div>
{% endblock %}